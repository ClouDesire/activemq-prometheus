#+TITLE: ActiveMQ with jmx_prometheus_javaagent

* ActiveMQ with jmx_prometheus_javaagent

Docker image based on [[https://github.com/rmohr/docker-activemq][rmohr/activemq]] with [[https://github.com/prometheus/jmx_exporter][JMX Exporter]] included.
Allows easy integration of ActiveMQ into the [[https://prometheus.io][Prometheus]] monitoring
system.

* Versioning
The currently used ActiveMQ version is hard coded into the ~Dockerfile~.

* Building

#+BEGIN_SRC emacs-lisp :results output silent
  (setq-local ver "5.15.3")
#+END_SRC

#+BEGIN_SRC sh :var version=`,ver :results output silent
  docker build --rm -t activemq-prometheus:$version .
  docker tag activemq-prometheus:$version bwolf/activemq-prometheus:$version
#+END_SRC

* Pushing to Docker hub
#+BEGIN_EXAMPLE
  docker login # ...
#+END_EXAMPLE

#+BEGIN_SRC sh :var version=`,ver :results output silent
  docker push bwolf/activemq-prometheus:$version
#+END_SRC

The image ~bwolf/activemq-prometheus~ is located at [[https://hub.docker.com/r/bwolf/activemq-prometheus/][docker hub]].
